{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;/** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import{Page}from'./Page';import{useSearchParams}from'react-router-dom';import{QuestionList}from'./QuestionList';import{searchQuestions}from'./QuestionData';import React from'react';import{useSelector,useDispatch}from'react-redux';import{searchingQuestionsAction,searchedQuestionsAction}from'./Store';import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";export var SearchPage=function SearchPage(){var dispatch=useDispatch();var questions=useSelector(function(state){return state.questions.searched;});var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];//const [questions, setQuestions] = React.useState<QuestionData[]>([]);\nvar search=searchParams.get('criteria')||'';React.useEffect(function(){var doSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(criteria){var foundResults;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(searchingQuestionsAction());_context.next=3;return searchQuestions(criteria);case 3:foundResults=_context.sent;//setQuestions(foundResults);\ndispatch(searchedQuestionsAction(foundResults));case 5:case\"end\":return _context.stop();}}},_callee);}));return function doSearch(_x){return _ref.apply(this,arguments);};}();doSearch(search);//eslint-disable-next-line react-hooks/exhaustive-deps\n},[search]);return _jsxs(Page,{title:\"Search results\",children:[search&&_jsxs(\"p\",{css:css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n            font-size: 16px;\\n            font-style: italic;\\n            margin-top: 0px;\\n          \"]))),children:[' ',\"for \\\"\",search,\"\\\"\"]}),_jsx(QuestionList,{data:questions})]});};","map":{"version":3,"sources":["C:/MyApps/reactQandA/clientApp/src/SearchPage.tsx"],"names":["css","Page","useSearchParams","QuestionList","searchQuestions","React","useSelector","useDispatch","searchingQuestionsAction","searchedQuestionsAction","SearchPage","dispatch","questions","state","searched","searchParams","search","get","useEffect","doSearch","criteria","foundResults"],"mappings":"qnBAAA,sCACA,OAASA,GAAT,KAAoB,gBAApB,CACA,OAASC,IAAT,KAAqB,QAArB,CACA,OAASC,eAAT,KAAgC,kBAAhC,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAEEC,wBAFF,CAGEC,uBAHF,KAIO,SAJP,C,0GAMA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC9B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,SAAS,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAqBA,CAAAA,KAAK,CAACD,SAAN,CAAgBE,QAArC,EAAD,CAA7B,CACA,qBAAuBZ,eAAe,EAAtC,sDAAOa,YAAP,sBACA;AACA,GAAMC,CAAAA,MAAM,CAAGD,YAAY,CAACE,GAAb,CAAiB,UAAjB,GAAgC,EAA/C,CAEAZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,QAAP,mIACfT,QAAQ,CAACH,wBAAwB,EAAzB,CAAR,CADe,sBAEYJ,CAAAA,eAAe,CAACgB,QAAD,CAF3B,QAETC,YAFS,eAGf;AACAV,QAAQ,CAACF,uBAAuB,CAACY,YAAD,CAAxB,CAAR,CAJe,sDAAH,kBAARF,CAAAA,QAAQ,4CAAd,CAMAA,QAAQ,CAACH,MAAD,CAAR,CACA;AACD,CATD,CASG,CAACA,MAAD,CATH,EAWA,MACE,OAAC,IAAD,EAAM,KAAK,CAAC,gBAAZ,WACGA,MAAM,EACL,WACE,GAAG,CAAEhB,GAAF,0KADL,WAOG,GAPH,UAQQgB,MARR,QAFJ,CAaE,KAAC,YAAD,EAAc,IAAI,CAAEJ,SAApB,EAbF,GADF,CAiBD,CAnCM","sourcesContent":["/** @jsxImportSource @emotion/react */\r\nimport { css } from '@emotion/react';\r\nimport { Page } from './Page';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { QuestionList } from './QuestionList';\r\nimport { searchQuestions } from './QuestionData';\r\nimport React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  AppState,\r\n  searchingQuestionsAction,\r\n  searchedQuestionsAction,\r\n} from './Store';\r\n\r\nexport const SearchPage = () => {\r\n  const dispatch = useDispatch();\r\n  const questions = useSelector((state: AppState) => state.questions.searched);\r\n  const [searchParams] = useSearchParams();\r\n  //const [questions, setQuestions] = React.useState<QuestionData[]>([]);\r\n  const search = searchParams.get('criteria') || '';\r\n\r\n  React.useEffect(() => {\r\n    const doSearch = async (criteria: string) => {\r\n      dispatch(searchingQuestionsAction());\r\n      const foundResults = await searchQuestions(criteria);\r\n      //setQuestions(foundResults);\r\n      dispatch(searchedQuestionsAction(foundResults));\r\n    };\r\n    doSearch(search);\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n\r\n  return (\r\n    <Page title=\"Search results\">\r\n      {search && (\r\n        <p\r\n          css={css`\r\n            font-size: 16px;\r\n            font-style: italic;\r\n            margin-top: 0px;\r\n          `}\r\n        >\r\n          {' '}\r\n          for \"{search}\"\r\n        </p>\r\n      )}\r\n      <QuestionList data={questions}></QuestionList>\r\n    </Page>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
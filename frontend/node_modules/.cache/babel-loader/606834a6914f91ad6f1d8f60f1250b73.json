{"ast":null,"code":"import _objectSpread from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/MyApps/reactQandA/clientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Page}from'./Page';import{FieldSet,FieldContainer,FieldLabel,FieldInput,FieldTextArea,FormButtonContainer,PrimaryButton,FieldError,SubmissionSuccess}from'./Styles';import{useForm}from'react-hook-form';import{postQuestion}from'./QuestionData';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AskPage=function AskPage(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),successfullySubmited=_React$useState2[0],setSucessfullySubmited=_React$useState2[1];var _useForm=useForm({mode:'onBlur'}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isSubmitting=_useForm$formState.isSubmitting;var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return postQuestion({title:data.title,content:data.content,userName:'Miguexxx',created:new Date()});case 2:result=_context.sent;setSucessfullySubmited(result?true:false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Page,{title:\"Ask a question\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(submitForm),children:/*#__PURE__*/_jsxs(FieldSet,{disabled:isSubmitting||successfullySubmited,children:[/*#__PURE__*/_jsxs(FieldContainer,{children:[/*#__PURE__*/_jsx(FieldLabel,{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(FieldInput,_objectSpread(_objectSpread({},register('title',{required:true,minLength:10})),{},{id:\"title\",type:\"text\"})),errors.title&&errors.title.type==='required'&&/*#__PURE__*/_jsx(FieldError,{children:\"You must enter the question title\"}),errors.title&&errors.title.type==='minLength'&&/*#__PURE__*/_jsx(FieldError,{children:\"The title must be at last 10 characters\"})]}),/*#__PURE__*/_jsxs(FieldContainer,{children:[/*#__PURE__*/_jsx(FieldLabel,{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(FieldTextArea,_objectSpread(_objectSpread({},register('content',{required:true,minLength:50})),{},{id:\"content\"})),errors.content&&errors.content.type==='required'&&/*#__PURE__*/_jsx(FieldError,{children:\"You must enter the question title\"}),errors.content&&errors.content.type==='minLength'&&/*#__PURE__*/_jsx(FieldError,{children:\"The title must be at last 50 characters\"})]}),/*#__PURE__*/_jsx(FormButtonContainer,{children:/*#__PURE__*/_jsx(PrimaryButton,{type:\"submit\",children:\"Submit your question\"})}),successfullySubmited&&/*#__PURE__*/_jsx(SubmissionSuccess,{children:\"Your question was successfully submitted\"})]})})});};export default AskPage;","map":{"version":3,"sources":["C:/MyApps/reactQandA/clientApp/src/AskPage.tsx"],"names":["Page","FieldSet","FieldContainer","FieldLabel","FieldInput","FieldTextArea","FormButtonContainer","PrimaryButton","FieldError","SubmissionSuccess","useForm","postQuestion","React","AskPage","useState","successfullySubmited","setSucessfullySubmited","mode","register","handleSubmit","formState","errors","isSubmitting","submitForm","data","title","content","userName","created","Date","result","required","minLength","type"],"mappings":"glBAAA,OAASA,IAAT,KAAqB,QAArB,CACA,OACEC,QADF,CAEEC,cAFF,CAGEC,UAHF,CAIEC,UAJF,CAKEC,aALF,CAMEC,mBANF,CAOEC,aAPF,CAQEC,UARF,CASEC,iBATF,KAUO,UAVP,CAWA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAOA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,oBAAuDD,KAAK,CAACE,QAAN,CAAe,KAAf,CAAvD,oDAAOC,oBAAP,qBAA6BC,sBAA7B,qBAEA,aAIIN,OAAO,CAAW,CACpBO,IAAI,CAAE,QADc,CAAX,CAJX,CACEC,QADF,UACEA,QADF,CAEEC,YAFF,UAEEA,YAFF,6BAGEC,SAHF,CAGeC,MAHf,oBAGeA,MAHf,CAGuBC,YAHvB,oBAGuBA,YAHvB,CAQA,GAAMC,CAAAA,UAAU,0FAAG,iBAAOC,IAAP,mJACIb,CAAAA,YAAY,CAAC,CAChCc,KAAK,CAAED,IAAI,CAACC,KADoB,CAEhCC,OAAO,CAAEF,IAAI,CAACE,OAFkB,CAGhCC,QAAQ,CAAE,UAHsB,CAIhCC,OAAO,CAAE,GAAIC,CAAAA,IAAJ,EAJuB,CAAD,CADhB,QACXC,MADW,eAOjBd,sBAAsB,CAACc,MAAM,CAAG,IAAH,CAAU,KAAjB,CAAtB,CAPiB,sDAAH,kBAAVP,CAAAA,UAAU,4CAAhB,CAUA,mBACE,KAAC,IAAD,EAAM,KAAK,CAAC,gBAAZ,uBACE,aAAM,QAAQ,CAAEJ,YAAY,CAACI,UAAD,CAA5B,uBACE,MAAC,QAAD,EAAU,QAAQ,CAAED,YAAY,EAAIP,oBAApC,wBACE,MAAC,cAAD,yBACE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,mBADF,cAEE,KAAC,UAAD,gCACMG,QAAQ,CAAC,OAAD,CAAU,CAAEa,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,EAA7B,CAAV,CADd,MAEE,EAAE,CAAC,OAFL,CAGE,IAAI,CAAC,MAHP,GAFF,CAOGX,MAAM,CAACI,KAAP,EAAgBJ,MAAM,CAACI,KAAP,CAAaQ,IAAb,GAAsB,UAAtC,eACC,KAAC,UAAD,gDARJ,CAUGZ,MAAM,CAACI,KAAP,EAAgBJ,MAAM,CAACI,KAAP,CAAaQ,IAAb,GAAsB,WAAtC,eACC,KAAC,UAAD,sDAXJ,GADF,cAeE,MAAC,cAAD,yBACE,KAAC,UAAD,EAAY,OAAO,CAAC,SAApB,qBADF,cAEE,KAAC,aAAD,gCACMf,QAAQ,CAAC,SAAD,CAAY,CAAEa,QAAQ,CAAE,IAAZ,CAAkBC,SAAS,CAAE,EAA7B,CAAZ,CADd,MAEE,EAAE,CAAC,SAFL,GAFF,CAMGX,MAAM,CAACK,OAAP,EAAkBL,MAAM,CAACK,OAAP,CAAeO,IAAf,GAAwB,UAA1C,eACC,KAAC,UAAD,gDAPJ,CASGZ,MAAM,CAACK,OAAP,EAAkBL,MAAM,CAACK,OAAP,CAAeO,IAAf,GAAwB,WAA1C,eACC,KAAC,UAAD,sDAVJ,GAfF,cA4BE,KAAC,mBAAD,wBACE,KAAC,aAAD,EAAe,IAAI,CAAC,QAApB,kCADF,EA5BF,CA+BGlB,oBAAoB,eACnB,KAAC,iBAAD,uDAhCJ,GADF,EADF,EADF,CA2CD,CAhEM,CAkEP,cAAeF,CAAAA,OAAf","sourcesContent":["import { Page } from './Page';\r\nimport {\r\n  FieldSet,\r\n  FieldContainer,\r\n  FieldLabel,\r\n  FieldInput,\r\n  FieldTextArea,\r\n  FormButtonContainer,\r\n  PrimaryButton,\r\n  FieldError,\r\n  SubmissionSuccess,\r\n} from './Styles';\r\nimport { useForm } from 'react-hook-form';\r\nimport { postQuestion } from './QuestionData';\r\nimport React from 'react';\r\n\r\ntype FormData = {\r\n  title: string;\r\n  content: string;\r\n};\r\n\r\nexport const AskPage = () => {\r\n  const [successfullySubmited, setSucessfullySubmited] = React.useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<FormData>({\r\n    mode: 'onBlur',\r\n  });\r\n\r\n  const submitForm = async (data: FormData) => {\r\n    const result = await postQuestion({\r\n      title: data.title,\r\n      content: data.content,\r\n      userName: 'Miguexxx',\r\n      created: new Date(),\r\n    });\r\n    setSucessfullySubmited(result ? true : false);\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Ask a question\">\r\n      <form onSubmit={handleSubmit(submitForm)}>\r\n        <FieldSet disabled={isSubmitting || successfullySubmited}>\r\n          <FieldContainer>\r\n            <FieldLabel htmlFor=\"title\">Title</FieldLabel>\r\n            <FieldInput\r\n              {...register('title', { required: true, minLength: 10 })}\r\n              id=\"title\"\r\n              type=\"text\"\r\n            />\r\n            {errors.title && errors.title.type === 'required' && (\r\n              <FieldError>You must enter the question title</FieldError>\r\n            )}\r\n            {errors.title && errors.title.type === 'minLength' && (\r\n              <FieldError>The title must be at last 10 characters</FieldError>\r\n            )}\r\n          </FieldContainer>\r\n          <FieldContainer>\r\n            <FieldLabel htmlFor=\"content\">Content</FieldLabel>\r\n            <FieldTextArea\r\n              {...register('content', { required: true, minLength: 50 })}\r\n              id=\"content\"\r\n            ></FieldTextArea>\r\n            {errors.content && errors.content.type === 'required' && (\r\n              <FieldError>You must enter the question title</FieldError>\r\n            )}\r\n            {errors.content && errors.content.type === 'minLength' && (\r\n              <FieldError>The title must be at last 50 characters</FieldError>\r\n            )}\r\n          </FieldContainer>\r\n          <FormButtonContainer>\r\n            <PrimaryButton type=\"submit\">Submit your question</PrimaryButton>\r\n          </FormButtonContainer>\r\n          {successfullySubmited && (\r\n            <SubmissionSuccess>\r\n              Your question was successfully submitted\r\n            </SubmissionSuccess>\r\n          )}\r\n        </FieldSet>\r\n      </form>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default AskPage;\r\n"]},"metadata":{},"sourceType":"module"}
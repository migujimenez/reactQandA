{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/MyApps/reactQandA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"C:/MyApps/reactQandA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/MyApps/reactQandA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/MyApps/reactQandA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;/** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import React from'react';import{getUnansweredQuestions}from'./QuestionData';import{QuestionList}from'./QuestionList';import{Page}from'./Page';import{PageTitle}from'./PageTitle';import{PrimaryButton}from'./Styles';import{useNavigate}from'react-router-dom';import{useAuth}from'./Auth';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";export var HomePage=function HomePage(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),questions=_React$useState2[0],setQuestions=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),questionsLoading=_React$useState4[0],setQuestionsLoading=_React$useState4[1];React.useEffect(function(){var cancelled=false;var doGetUnansweredQuestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var unansweredQuestions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUnansweredQuestions();case 2:unansweredQuestions=_context.sent;if(!cancelled){setQuestions(unansweredQuestions);setQuestionsLoading(false);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function doGetUnansweredQuestions(){return _ref.apply(this,arguments);};}();doGetUnansweredQuestions();return function(){cancelled=true;};},[]);console.log('rendered');var navigate=useNavigate();var handleAskQuestionClick=function handleAskQuestionClick(){navigate('ask');};var _useAuth=useAuth(),isAuthenticated=_useAuth.isAuthenticated;return _jsxs(Page,{children:[_jsxs(\"div\",{css:css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-between;\\n        \"]))),children:[_jsx(PageTitle,{children:\"Unanswered Questions\"}),isAuthenticated&&_jsx(PrimaryButton,{onClick:handleAskQuestionClick,children:\"Ask a question\"})]}),questionsLoading?_jsx(\"div\",{children:\"Loading...\"}):_jsx(QuestionList,{data:questions||[]//renderItem={(question) => <div>{question.title}</div>}\n})]});};","map":{"version":3,"sources":["C:/MyApps/reactQandA/frontend/src/HomePage.tsx"],"names":["css","React","getUnansweredQuestions","QuestionList","Page","PageTitle","PrimaryButton","useNavigate","useAuth","HomePage","useState","questions","setQuestions","questionsLoading","setQuestionsLoading","useEffect","cancelled","doGetUnansweredQuestions","unansweredQuestions","console","log","navigate","handleAskQuestionClick","isAuthenticated"],"mappings":"inBAAA,sCACA,OAASA,GAAT,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,sBAAT,KAAqD,gBAArD,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,IAAT,KAAqB,QAArB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,OAAT,KAAwB,QAAxB,C,0GAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,oBAAkCR,KAAK,CAACS,QAAN,CAA+B,EAA/B,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBACA,qBAAgDX,KAAK,CAACS,QAAN,CAAe,IAAf,CAAhD,qDAAOG,gBAAP,qBAAyBC,mBAAzB,qBAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpB,GAAIC,CAAAA,SAAS,CAAG,KAAhB,CACA,GAAMC,CAAAA,wBAAwB,0FAAG,iLACGf,CAAAA,sBAAsB,EADzB,QACzBgB,mBADyB,eAE/B,GAAI,CAACF,SAAL,CAAgB,CACdJ,YAAY,CAACM,mBAAD,CAAZ,CACAJ,mBAAmB,CAAC,KAAD,CAAnB,CACD,CAL8B,sDAAH,kBAAxBG,CAAAA,wBAAwB,0CAA9B,CAOAA,wBAAwB,GACxB,MAAO,WAAM,CACXD,SAAS,CAAG,IAAZ,CACD,CAFD,CAGD,CAbD,CAaG,EAbH,EAeAG,OAAO,CAACC,GAAR,CAAY,UAAZ,EAEA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAEA,GAAMe,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,EAAM,CACnCD,QAAQ,CAAC,KAAD,CAAR,CACD,CAFD,CAIA,aAA4Bb,OAAO,EAAnC,CAAQe,eAAR,UAAQA,eAAR,CAEA,MACE,OAAC,IAAD,YACE,aACE,GAAG,CAAEvB,GAAF,gLADL,WAOE,KAAC,SAAD,mCAPF,CAQGuB,eAAe,EACd,KAAC,aAAD,EAAe,OAAO,CAAED,sBAAxB,4BATJ,GADF,CAeGT,gBAAgB,CACf,mCADe,CAGf,KAAC,YAAD,EACE,IAAI,CAAEF,SAAS,EAAI,EACnB;AAFF,EAlBJ,GADF,CA0BD,CAvDM","sourcesContent":["/** @jsxImportSource @emotion/react */\r\nimport { css } from '@emotion/react';\r\nimport React from 'react';\r\nimport { getUnansweredQuestions, QuestionData } from './QuestionData';\r\nimport { QuestionList } from './QuestionList';\r\nimport { Page } from './Page';\r\nimport { PageTitle } from './PageTitle';\r\nimport { PrimaryButton } from './Styles';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from './Auth';\r\n\r\nexport const HomePage = () => {\r\n  const [questions, setQuestions] = React.useState<QuestionData[]>([]);\r\n  const [questionsLoading, setQuestionsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    let cancelled = false;\r\n    const doGetUnansweredQuestions = async () => {\r\n      const unansweredQuestions = await getUnansweredQuestions();\r\n      if (!cancelled) {\r\n        setQuestions(unansweredQuestions);\r\n        setQuestionsLoading(false);\r\n      }\r\n    };\r\n    doGetUnansweredQuestions();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, []);\r\n\r\n  console.log('rendered');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleAskQuestionClick = () => {\r\n    navigate('ask');\r\n  };\r\n\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  return (\r\n    <Page>\r\n      <div\r\n        css={css`\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        `}\r\n      >\r\n        <PageTitle>Unanswered Questions</PageTitle>\r\n        {isAuthenticated && (\r\n          <PrimaryButton onClick={handleAskQuestionClick}>\r\n            Ask a question\r\n          </PrimaryButton>\r\n        )}\r\n      </div>\r\n      {questionsLoading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <QuestionList\r\n          data={questions || []}\r\n          //renderItem={(question) => <div>{question.title}</div>}\r\n        />\r\n      )}\r\n    </Page>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}